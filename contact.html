---
layout: page
title: Contact
permalink: /contact/
---

<form class="contact-form" id="form" action="http://webmailer.rittme.com" method="post">
  <label for="name">
    Name
  </label>
  <input type="text" id="name" name="name">
  <label for="email">
    E-mail
  </label>
  <input type="text" id="email" name="email">
  <label for="message">
    Message
  </label>
  <textarea id="message" name="message"></textarea>
  <div class="honey">
    <input type="text" name="honey" id="honey">
  </div>
  <input type="submit" id="submit" value="Submit">
  <span class="confirmation" id="confirmation"></span>
</form>
<script type="text/javascript">
function FormManager (elt) {
  var form = elt;
  var fData = {};
  fData['name'] = document.getElementById('name');
  fData['email'] = document.getElementById('email');
  fData['message'] = document.getElementById('message');
  fData['honey'] = document.getElementById('honey');
  var submit = document.getElementById('submit');
  var confirmation = document.getElementById('confirmation');

  var data = "";

  form.addEventListener('submit', function(evt){
    evt.preventDefault();
    form.classList.add('sending');
    confirmation.classList.remove('error');
    confirmation.classList.remove('display');

    submit.disabled = true;
    Object.keys(fData).forEach(function (val) {
      data += val + "=" + fData[val].value + "&";
    });
    var xhr = new XMLHttpRequest();
    xhr.open("POST", form.action, true);
    xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
    xhr.onload = function (e) {
      console.log(xhr);
      if (xhr.readyState === 4) {
        submit.disabled = false;
        form.classList.remove('sending');
        if (xhr.status === 200) {
          confirmation.textContent = "Message submitted.";
          confirmation.classList.add('display');
        } else {
          confirmation.textContent = "Error sending message.";
          confirmation.classList.add('error');
          confirmation.classList.add('display');
          console.error(xhr.statusText);
        }
      }
    };
    xhr.onerror = function (e) {
      console.error(xhr);
    };
    xhr.send(data);
  }, true);
}

var manager = new FormManager(document.getElementById('form'));
</script>